var AlgoValidationAgent=function(){"use strict";function n(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function t(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}var e=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")},r=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}(),u=function(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t},i=function(){function n(t,r,u,i){e(this,n),this.name=t,this.fn=r,this.args=u,this.modifiers=i}return r(n,[{key:"_test",value:function(n){var t=this.fn;try{c(this.modifiers.slice(),t)(n)}catch(n){t=function(){return!1}}try{return c(this.modifiers.slice(),t)(n)}catch(n){return!1}}},{key:"_check",value:function(n){try{c(this.modifiers.slice(),this.fn)(n)}catch(n){if(c(this.modifiers.slice(),(function(n){return n}))(!1))return}if(!c(this.modifiers.slice(),this.fn)(n))throw null}},{key:"_testAsync",value:function(n){var t=this;return new Promise((function(e,r){(function n(t,e){if(t.length){var r=t.shift(),u=n(t,e);return r.performAsync(u)}return function(n){return Promise.resolve(o(e,"async")(n))}})(t.modifiers.slice(),t.fn)(n).then((function(t){t?e(n):r(null)})).catch((function(n){return r(n)}))}))}}]),n}();function o(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"simple";return"object"==typeof n?n[t]:n}function c(n,t){if(n.length){var e=n.shift(),r=c(n,t);return e.perform(r)}return o(t)}var f=function n(t,r,u){e(this,n),this.name=t,this.perform=r,this.performAsync=u},a=function(n){function t(n,r,i,o){e(this,t);for(var c=arguments.length,f=Array(c>4?c-4:0),a=4;a<c;a++)f[a-4]=arguments[a];var s=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,f));return Error.captureStackTrace&&Error.captureStackTrace(s,t),s.rule=n,s.value=r,s.cause=i,s.target=o,s}return function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}(t,Error),t}(),s=function(){function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e(this,n),this.chain=t,this.nextRuleModifiers=r}return r(n,[{key:"_applyRule",value:function(n,t){var e=this;return function(){for(var r=arguments.length,u=Array(r),o=0;o<r;o++)u[o]=arguments[o];return e.chain.push(new i(t,n.apply(e,u),u,e.nextRuleModifiers)),e.nextRuleModifiers=[],e}}},{key:"_applyModifier",value:function(n,t){return this.nextRuleModifiers.push(new f(t,n.simple,n.async)),this}},{key:"_clone",value:function(){return new n(this.chain.slice(),this.nextRuleModifiers.slice())}},{key:"test",value:function(n){return this.chain.every((function(t){return t._test(n)}))}},{key:"testAll",value:function(n){var t=[];return this.chain.forEach((function(e){try{e._check(n)}catch(r){t.push(new a(e,n,r))}})),t}},{key:"check",value:function(n){this.chain.forEach((function(t){try{t._check(n)}catch(e){throw new a(t,n,e)}}))}},{key:"testAsync",value:function(n){var t=this;return new Promise((function(e,r){!function n(t,e,r,u){if(e.length){var i=e.shift();i._testAsync(t).then((function(){n(t,e,r,u)}),(function(n){u(new a(i,t,n))}))}else r(t)}(n,t.chain.slice(),e,r)}))}}]),n}();function l(){return function n(t){return new Proxy(t,{get:function(e,r){if(r in e)return e[r];var u=n(t._clone());return r in y?u._applyModifier(y[r],r):r in h?u._applyRule(h[r],r):r in g?u._applyRule(g[r],r):void 0}})}(new s)}var h={};l.extend=function(n){Object.assign(h,n)},l.clearCustomRules=function(){h={}};var y={not:{simple:function(n){return function(t){return!n(t)}},async:function(n){return function(t){return Promise.resolve(n(t)).then((function(n){return!n})).catch((function(n){return!0}))}}},some:{simple:function(n){return function(t){return p(t).some((function(t){try{return n(t)}catch(n){return!1}}))}},async:function(n){return function(t){return Promise.all(p(t).map((function(t){try{return n(t).catch((function(n){return!1}))}catch(n){return!1}}))).then((function(n){return n.some(Boolean)}))}}},every:{simple:function(n){return function(t){return p(t).every(n)}},async:function(n){return function(t){return Promise.all(p(t).map(n)).then((function(n){return n.every(Boolean)}))}}}};function p(n){return"string"==typeof n?n.split(""):n}var g={equal:function(n){return function(t){return t==n}},exact:function(n){return function(t){return t===n}},number:function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){return"number"==typeof t&&(n||isFinite(t))}},integer:function(){return function(n){return(Number.isInteger||d)(n)}},numeric:function(){return function(n){return!isNaN(parseFloat(n))&&isFinite(n)}},string:function(){return v("string")},boolean:function(){return v("boolean")},undefined:function(){return v("undefined")},null:function(){return v("null")},array:function(){return v("array")},object:function(){return v("object")},instanceOf:function(n){return function(t){return t instanceof n}},pattern:function(n){return function(t){return n.test(t)}},lowercase:function(){return function(n){return/^([a-z]+\s*)+$/.test(n)}},uppercase:function(){return function(n){return/^([A-Z]+\s*)+$/.test(n)}},vowel:function(){return function(n){return/^[aeiou]+$/i.test(n)}},consonant:function(){return function(n){return/^(?=[^aeiou])([a-z]+)$/i.test(n)}},first:function(n){return function(t){return t[0]==n}},last:function(n){return function(t){return t[t.length-1]==n}},empty:function(){return function(n){return 0===n.length}},length:function(n,t){return function(e){return e.length>=n&&e.length<=(t||n)}},minLength:function(n){return function(t){return t.length>=n}},maxLength:function(n){return function(t){return t.length<=n}},negative:function(){return function(n){return n<0}},positive:function(){return function(n){return n>=0}},between:function(n,t){return function(e){return e>=n&&e<=t}},range:function(n,t){return function(e){return e>=n&&e<=t}},lessThan:function(n){return function(t){return t<n}},lessThanOrEqual:function(n){return function(t){return t<=n}},greaterThan:function(n){return function(t){return t>n}},greaterThanOrEqual:function(n){return function(t){return t>=n}},even:function(){return function(n){return n%2==0}},odd:function(){return function(n){return n%2!=0}},includes:function(n){return function(t){return~t.indexOf(n)}},schema:function(n){return function(n){return{simple:function(t){var e=[];if(Object.keys(n).forEach((function(r){var u=n[r];try{u.check((t||{})[r])}catch(n){n.target=r,e.push(n)}})),e.length>0)throw e;return!0},async:function(t){var e=[],r=Object.keys(n).map((function(r){return n[r].testAsync((t||{})[r]).catch((function(n){n.target=r,e.push(n)}))}));return Promise.all(r).then((function(n){if(e.length>0)throw e;return!0}))}}}(n)},passesAnyOf:function(){for(var n=arguments.length,t=Array(n),e=0;e<n;e++)t[e]=arguments[e];return function(n){return t.some((function(t){return t.test(n)}))}},optional:function(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(e){return t&&"string"==typeof e&&""===e.trim()||null!=e&&n.check(e),!0}}};function v(n){return function(t){return Array.isArray(t)&&"array"===n||null===t&&"null"===n||typeof t===n}}function d(n){return"number"==typeof n&&isFinite(n)&&Math.floor(n)===n}var m="undefined"==typeof global?"undefined"==typeof self?{}:self:global,b=String.fromCharCode,w={}.toString,O=m.SharedArrayBuffer,A=O?w.call(O):"",_=m.Uint8Array,x=_?w.call(ArrayBuffer.prototype):"",j=m.Buffer;try{!j&&m.require&&(j=m.require("Buffer"));var k=j.prototype,P=w.call(k)}catch(n){}var E=!!_&&!j,C=!j||!!_&&_.prototype.isPrototypeOf(k);function F(n){var t=n.charCodeAt(0),e=1114112,r=0,u=0|n.length,i="";switch(t>>>4){case 12:case 13:r=128>(e=(31&t)<<6|63&n.charCodeAt(1))?0:2;break;case 14:r=2048>(e=(15&t)<<12|(63&n.charCodeAt(1))<<6|63&n.charCodeAt(2))?0:3;break;case 15:30==t>>>3&&(r=65536>(e=(7&t)<<18|(63&n.charCodeAt(1))<<12|(63&n.charCodeAt(2))<<6|n.charCodeAt(3))?0:4)}for(r&&(u<r?r=0:65536>e?i=b(e):1114112>e?i=b(55296+((e=e-65664|0)>>>10)|0,56320+(1023&e)|0):r=0);r<u;r=r+1|0)i+="ï¿½";return i}function B(n){var t=0|n.charCodeAt(0);if(55296<=t&&56319>=t)if(56320<=(n=0|n.charCodeAt(1))&&57343>=n){if(65535<(t=(t<<10)+n-56613888|0))return b(240|t>>>18,128|t>>>12&63,128|t>>>6&63,128|63&t)}else t=65533;return 2047>=t?b(192|t>>>6,128|63&t):b(224|t>>>12,128|t>>>6&63,128|63&t)}function T(){}function R(n){for(var t=0|(n=void 0===n?"":(""+n).replace(/[\x80-\uD7ff\uDC00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]?/g,B)).length,e=E?new _(t):j.allocUnsafe?j.allocUnsafe(t):new j(t),r=0;r<t;r=r+1|0)e[r]=0|n.charCodeAt(r);return e}function D(n,t){var e=n[t];return function(){return e.apply(n,arguments)}}T.prototype.encode=R;var M=m.TextDecoder,S=m.TextEncoder,L=S||T;M&&D(new M,"decode"),S&&D(new S,"encode");l.extend({exactByteLength:function(n){return function(t){return(new L).encode(t).length===n}},base32CharsOnly:function(){return function(n){return new RegExp(/^[A-Z2-7]*$/).test(n)}}});var N={algoAddress:function(n){return l().string().exactByteLength(58).length(58).base32CharsOnly().test(n)}};return l.extend({maxByteLength:function(n){return function(t){return(new L).encode(t).length<=n}}}),function(e){for(var r=1;r<arguments.length;r++){var u=null!=arguments[r]?arguments[r]:{};r%2?t(Object(u),!0).forEach((function(t){n(e,t,u[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(u)):t(Object(u)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(u,n))}))}return e}({},N,{},{assetTotalIssuance:function(n){return l().integer().between(1,Number.MAX_SAFE_INTEGER).test(n)},assetDecimalPlaces:function(n){return l().integer().between(0,19).test(n)},defaultFrozen:function(n){return l().boolean().test(n)},assetIndex:function(n){return l().number().positive().lessThanOrEqual(Number.MAX_SAFE_INTEGER).test(n)},assetName:function(n){return l().string().maxByteLength(32).test(n)},unitName:function(n){return l().string().maxByteLength(8).test(n)},assetUrl:function(n){return l().string().maxByteLength(32).test(n)},assetMetadataHash:function(n){return l().string().maxByteLength(32).test(n)}})}();
