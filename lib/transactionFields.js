"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.transactionSender = transactionSender;
exports.transactionFee = transactionFee;
exports.firstValidRound = firstValidRound;
exports.lastValidRound = lastValidRound;
exports.transactionNote = transactionNote;
exports.transactionGenesisId = transactionGenesisId;
exports.transactionGenesisHash = transactionGenesisHash;
exports.transactionGroup = transactionGroup;
exports.transactionType = transactionType;
exports.transactionReceiver = transactionReceiver;
exports.transactionAmount = transactionAmount;
exports.closeRemainderTo = closeRemainderTo;
exports["default"] = void 0;

var _v8n = _interopRequireDefault(require("v8n"));

var _extensions = require("./utils/extensions");

var _core = require("./core");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

// For full typing support on the extend function,
// v8n should use context instead of a global variable
// Details: https://github.com/imbrn/v8n/issues/28
// @ts-ignore
_v8n["default"].extend({
  exactByteLength: _extensions.exactByteLength,
  maxByteLength: _extensions.maxByteLength
});
/**
 * Test sender field for a valid Algorand address
 * @category All Transactions
 * @param {string}
 * @returns {boolean}
 */


function transactionSender(senderAddr) {
  return _core.algoAddress.test(senderAddr);
}
/**
 * Test for a valid transaction fee
 * @category All Transactions
 * @param {number}
 * @returns {boolean}
 */


function transactionFee(txnFee) {
  return (0, _v8n["default"])().number().positive().greaterThanOrEqual(1000).lessThanOrEqual(Number.MAX_SAFE_INTEGER).test(txnFee);
}
/**
 * Test for a valid first round
 * @category All Transactions
 * @param {number}
 * @returns {boolean}
 */


function firstValidRound(firstValid) {
  return (0, _v8n["default"])().number().positive().lessThanOrEqual(Number.MAX_SAFE_INTEGER).test(firstValid);
}
/**
 * Test for a valid first round
 * @category All Transactions
 * @param {number}
 * @returns {boolean}
 */


function lastValidRound(lastValid) {
  return (0, _v8n["default"])().number().positive().lessThanOrEqual(Number.MAX_SAFE_INTEGER).test(lastValid);
}
/**
 * Test for a valid note field
 * @category All Transactions
 * @param {string}
 * @returns {boolean}
 */


function transactionNote(note) {
  return (0, _v8n["default"])().string().maxByteLength(1000).test(note);
}
/**
 * Test for a valid genesis id
 * @category All Transactions
 * @param {string}
 * @returns {boolean}
 */


function transactionGenesisId(genesisId) {
  return (0, _v8n["default"])().string().test(genesisId);
}
/**
 * Test for a valid genesis hash
 * @category All Transactions
 * @param {string}
 * @returns {boolean}
 */


function transactionGenesisHash(genesisHash) {
  return (0, _v8n["default"])().string().test(genesisHash);
}
/**
 * Test for a valid group
 * @category All Transactions
 * @param {string}
 * @returns {boolean}
 */


function transactionGroup(genesisHash) {
  return (0, _v8n["default"])().string().test(genesisHash);
}
/**
 * Test for a valid transaction type
 * @category All Transactions
 * @param {string}
 * @returns {boolean}
 */


function transactionType(type) {
  return (0, _v8n["default"])().string().test(type);
}
/**
 * Test for a valid transaction receiver account
 * @category Payment Transactions
 * @param {string}
 * @returns {boolean}
 */


function transactionReceiver(receiverAddr) {
  return _core.algoAddress.test(receiverAddr);
}
/**
 * Test for a valid algo amount to be sent
 * @category Payment Transactions
 * @param {number}
 * @returns {boolean}
 */


function transactionAmount(txnAmount) {
  return (0, _v8n["default"])().number().positive().lessThanOrEqual(Number.MAX_SAFE_INTEGER).test(txnAmount);
}
/**
 * Test for a valid algo amount to be sent
 * @category Payment Transactions
 * @param {number}
 * @returns {boolean}
 */


function closeRemainderTo(address) {
  return _core.algoAddress.test(address);
}

var _default = {
  transactionSender: transactionSender,
  transactionFee: transactionFee,
  firstValidRound: firstValidRound,
  lastValidRound: lastValidRound,
  transactionNote: transactionNote,
  transactionGenesisId: transactionGenesisId,
  transactionGenesisHash: transactionGenesisHash,
  transactionGroup: transactionGroup,
  transactionType: transactionType,
  transactionReceiver: transactionReceiver,
  transactionAmount: transactionAmount,
  closeRemainderTo: closeRemainderTo
};
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy90cmFuc2FjdGlvbkZpZWxkcy50cyJdLCJuYW1lcyI6WyJ2OG4iLCJleHRlbmQiLCJleGFjdEJ5dGVMZW5ndGgiLCJtYXhCeXRlTGVuZ3RoIiwidHJhbnNhY3Rpb25TZW5kZXIiLCJzZW5kZXJBZGRyIiwiYWxnb0FkZHJlc3MiLCJ0ZXN0IiwidHJhbnNhY3Rpb25GZWUiLCJ0eG5GZWUiLCJudW1iZXIiLCJwb3NpdGl2ZSIsImdyZWF0ZXJUaGFuT3JFcXVhbCIsImxlc3NUaGFuT3JFcXVhbCIsIk51bWJlciIsIk1BWF9TQUZFX0lOVEVHRVIiLCJmaXJzdFZhbGlkUm91bmQiLCJmaXJzdFZhbGlkIiwibGFzdFZhbGlkUm91bmQiLCJsYXN0VmFsaWQiLCJ0cmFuc2FjdGlvbk5vdGUiLCJub3RlIiwic3RyaW5nIiwidHJhbnNhY3Rpb25HZW5lc2lzSWQiLCJnZW5lc2lzSWQiLCJ0cmFuc2FjdGlvbkdlbmVzaXNIYXNoIiwiZ2VuZXNpc0hhc2giLCJ0cmFuc2FjdGlvbkdyb3VwIiwidHJhbnNhY3Rpb25UeXBlIiwidHlwZSIsInRyYW5zYWN0aW9uUmVjZWl2ZXIiLCJyZWNlaXZlckFkZHIiLCJ0cmFuc2FjdGlvbkFtb3VudCIsInR4bkFtb3VudCIsImNsb3NlUmVtYWluZGVyVG8iLCJhZGRyZXNzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBQSxnQkFBSUMsTUFBSixDQUFXO0FBQUVDLEVBQUFBLGVBQWUsRUFBZkEsMkJBQUY7QUFBbUJDLEVBQUFBLGFBQWEsRUFBYkE7QUFBbkIsQ0FBWDtBQUVBOzs7Ozs7OztBQU1PLFNBQVNDLGlCQUFULENBQTJCQyxVQUEzQixFQUErQztBQUNwRCxTQUFPQyxrQkFBWUMsSUFBWixDQUFpQkYsVUFBakIsQ0FBUDtBQUNEO0FBRUQ7Ozs7Ozs7O0FBTU8sU0FBU0csY0FBVCxDQUF3QkMsTUFBeEIsRUFBd0M7QUFDN0MsU0FBTyx1QkFDSkMsTUFESSxHQUVKQyxRQUZJLEdBR0pDLGtCQUhJLENBR2UsSUFIZixFQUlKQyxlQUpJLENBSVlDLE1BQU0sQ0FBQ0MsZ0JBSm5CLEVBS0pSLElBTEksQ0FLQ0UsTUFMRCxDQUFQO0FBTUQ7QUFFRDs7Ozs7Ozs7QUFNTyxTQUFTTyxlQUFULENBQXlCQyxVQUF6QixFQUE2QztBQUNsRCxTQUFPLHVCQUNKUCxNQURJLEdBRUpDLFFBRkksR0FHSkUsZUFISSxDQUdZQyxNQUFNLENBQUNDLGdCQUhuQixFQUlKUixJQUpJLENBSUNVLFVBSkQsQ0FBUDtBQUtEO0FBRUQ7Ozs7Ozs7O0FBTU8sU0FBU0MsY0FBVCxDQUF3QkMsU0FBeEIsRUFBMkM7QUFDaEQsU0FBTyx1QkFDSlQsTUFESSxHQUVKQyxRQUZJLEdBR0pFLGVBSEksQ0FHWUMsTUFBTSxDQUFDQyxnQkFIbkIsRUFJSlIsSUFKSSxDQUlDWSxTQUpELENBQVA7QUFLRDtBQUVEOzs7Ozs7OztBQU1PLFNBQVNDLGVBQVQsQ0FBeUJDLElBQXpCLEVBQXVDO0FBQzVDLFNBQU8sdUJBQ0pDLE1BREksR0FFSm5CLGFBRkksQ0FFVSxJQUZWLEVBR0pJLElBSEksQ0FHQ2MsSUFIRCxDQUFQO0FBSUQ7QUFFRDs7Ozs7Ozs7QUFNTyxTQUFTRSxvQkFBVCxDQUE4QkMsU0FBOUIsRUFBaUQ7QUFDdEQsU0FBTyx1QkFDSkYsTUFESSxHQUVKZixJQUZJLENBRUNpQixTQUZELENBQVA7QUFHRDtBQUVEOzs7Ozs7OztBQU1PLFNBQVNDLHNCQUFULENBQWdDQyxXQUFoQyxFQUFxRDtBQUMxRCxTQUFPLHVCQUNKSixNQURJLEdBRUpmLElBRkksQ0FFQ21CLFdBRkQsQ0FBUDtBQUdEO0FBRUQ7Ozs7Ozs7O0FBTU8sU0FBU0MsZ0JBQVQsQ0FBMEJELFdBQTFCLEVBQStDO0FBQ3BELFNBQU8sdUJBQ0pKLE1BREksR0FFSmYsSUFGSSxDQUVDbUIsV0FGRCxDQUFQO0FBR0Q7QUFFRDs7Ozs7Ozs7QUFNTyxTQUFTRSxlQUFULENBQXlCQyxJQUF6QixFQUF1QztBQUM1QyxTQUFPLHVCQUNKUCxNQURJLEdBRUpmLElBRkksQ0FFQ3NCLElBRkQsQ0FBUDtBQUdEO0FBRUQ7Ozs7Ozs7O0FBTU8sU0FBU0MsbUJBQVQsQ0FBNkJDLFlBQTdCLEVBQW1EO0FBQ3hELFNBQU96QixrQkFBWUMsSUFBWixDQUFpQndCLFlBQWpCLENBQVA7QUFDRDtBQUVEOzs7Ozs7OztBQU1PLFNBQVNDLGlCQUFULENBQTJCQyxTQUEzQixFQUE4QztBQUNuRCxTQUFPLHVCQUNKdkIsTUFESSxHQUVKQyxRQUZJLEdBR0pFLGVBSEksQ0FHWUMsTUFBTSxDQUFDQyxnQkFIbkIsRUFJSlIsSUFKSSxDQUlDMEIsU0FKRCxDQUFQO0FBS0Q7QUFFRDs7Ozs7Ozs7QUFNTyxTQUFTQyxnQkFBVCxDQUEwQkMsT0FBMUIsRUFBMkM7QUFDaEQsU0FBTzdCLGtCQUFZQyxJQUFaLENBQWlCNEIsT0FBakIsQ0FBUDtBQUNEOztlQUVjO0FBQ2IvQixFQUFBQSxpQkFBaUIsRUFBakJBLGlCQURhO0FBRWJJLEVBQUFBLGNBQWMsRUFBZEEsY0FGYTtBQUdiUSxFQUFBQSxlQUFlLEVBQWZBLGVBSGE7QUFJYkUsRUFBQUEsY0FBYyxFQUFkQSxjQUphO0FBS2JFLEVBQUFBLGVBQWUsRUFBZkEsZUFMYTtBQU1iRyxFQUFBQSxvQkFBb0IsRUFBcEJBLG9CQU5hO0FBT2JFLEVBQUFBLHNCQUFzQixFQUF0QkEsc0JBUGE7QUFRYkUsRUFBQUEsZ0JBQWdCLEVBQWhCQSxnQkFSYTtBQVNiQyxFQUFBQSxlQUFlLEVBQWZBLGVBVGE7QUFVYkUsRUFBQUEsbUJBQW1CLEVBQW5CQSxtQkFWYTtBQVdiRSxFQUFBQSxpQkFBaUIsRUFBakJBLGlCQVhhO0FBWWJFLEVBQUFBLGdCQUFnQixFQUFoQkE7QUFaYSxDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHY4biBmcm9tICd2OG4nO1xuaW1wb3J0IHsgZXhhY3RCeXRlTGVuZ3RoLCBtYXhCeXRlTGVuZ3RoIH0gZnJvbSAnLi91dGlscy9leHRlbnNpb25zJztcbmltcG9ydCB7IGFsZ29BZGRyZXNzLCBhc3NldEluZGV4IH0gZnJvbSAnLi9jb3JlJztcblxuLy8gRm9yIGZ1bGwgdHlwaW5nIHN1cHBvcnQgb24gdGhlIGV4dGVuZCBmdW5jdGlvbixcbi8vIHY4biBzaG91bGQgdXNlIGNvbnRleHQgaW5zdGVhZCBvZiBhIGdsb2JhbCB2YXJpYWJsZVxuLy8gRGV0YWlsczogaHR0cHM6Ly9naXRodWIuY29tL2ltYnJuL3Y4bi9pc3N1ZXMvMjhcbi8vIEB0cy1pZ25vcmVcbnY4bi5leHRlbmQoeyBleGFjdEJ5dGVMZW5ndGgsIG1heEJ5dGVMZW5ndGggfSk7XG5cbi8qKlxuICogVGVzdCBzZW5kZXIgZmllbGQgZm9yIGEgdmFsaWQgQWxnb3JhbmQgYWRkcmVzc1xuICogQGNhdGVnb3J5IEFsbCBUcmFuc2FjdGlvbnNcbiAqIEBwYXJhbSB7c3RyaW5nfVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2FjdGlvblNlbmRlcihzZW5kZXJBZGRyOiBzdHJpbmcpIHtcbiAgcmV0dXJuIGFsZ29BZGRyZXNzLnRlc3Qoc2VuZGVyQWRkcik7XG59XG5cbi8qKlxuICogVGVzdCBmb3IgYSB2YWxpZCB0cmFuc2FjdGlvbiBmZWVcbiAqIEBjYXRlZ29yeSBBbGwgVHJhbnNhY3Rpb25zXG4gKiBAcGFyYW0ge251bWJlcn1cbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNhY3Rpb25GZWUodHhuRmVlOiBudW1iZXIpIHtcbiAgcmV0dXJuIHY4bigpXG4gICAgLm51bWJlcigpXG4gICAgLnBvc2l0aXZlKClcbiAgICAuZ3JlYXRlclRoYW5PckVxdWFsKDEwMDApXG4gICAgLmxlc3NUaGFuT3JFcXVhbChOdW1iZXIuTUFYX1NBRkVfSU5URUdFUilcbiAgICAudGVzdCh0eG5GZWUpO1xufVxuXG4vKipcbiAqIFRlc3QgZm9yIGEgdmFsaWQgZmlyc3Qgcm91bmRcbiAqIEBjYXRlZ29yeSBBbGwgVHJhbnNhY3Rpb25zXG4gKiBAcGFyYW0ge251bWJlcn1cbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gZmlyc3RWYWxpZFJvdW5kKGZpcnN0VmFsaWQ6IG51bWJlcikge1xuICByZXR1cm4gdjhuKClcbiAgICAubnVtYmVyKClcbiAgICAucG9zaXRpdmUoKVxuICAgIC5sZXNzVGhhbk9yRXF1YWwoTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpXG4gICAgLnRlc3QoZmlyc3RWYWxpZCk7XG59XG5cbi8qKlxuICogVGVzdCBmb3IgYSB2YWxpZCBmaXJzdCByb3VuZFxuICogQGNhdGVnb3J5IEFsbCBUcmFuc2FjdGlvbnNcbiAqIEBwYXJhbSB7bnVtYmVyfVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsYXN0VmFsaWRSb3VuZChsYXN0VmFsaWQ6IG51bWJlcikge1xuICByZXR1cm4gdjhuKClcbiAgICAubnVtYmVyKClcbiAgICAucG9zaXRpdmUoKVxuICAgIC5sZXNzVGhhbk9yRXF1YWwoTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpXG4gICAgLnRlc3QobGFzdFZhbGlkKTtcbn1cblxuLyoqXG4gKiBUZXN0IGZvciBhIHZhbGlkIG5vdGUgZmllbGRcbiAqIEBjYXRlZ29yeSBBbGwgVHJhbnNhY3Rpb25zXG4gKiBAcGFyYW0ge3N0cmluZ31cbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNhY3Rpb25Ob3RlKG5vdGU6IHN0cmluZykge1xuICByZXR1cm4gdjhuKClcbiAgICAuc3RyaW5nKClcbiAgICAubWF4Qnl0ZUxlbmd0aCgxMDAwKVxuICAgIC50ZXN0KG5vdGUpO1xufVxuXG4vKipcbiAqIFRlc3QgZm9yIGEgdmFsaWQgZ2VuZXNpcyBpZFxuICogQGNhdGVnb3J5IEFsbCBUcmFuc2FjdGlvbnNcbiAqIEBwYXJhbSB7c3RyaW5nfVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2FjdGlvbkdlbmVzaXNJZChnZW5lc2lzSWQ6IHN0cmluZykge1xuICByZXR1cm4gdjhuKClcbiAgICAuc3RyaW5nKClcbiAgICAudGVzdChnZW5lc2lzSWQpO1xufVxuXG4vKipcbiAqIFRlc3QgZm9yIGEgdmFsaWQgZ2VuZXNpcyBoYXNoXG4gKiBAY2F0ZWdvcnkgQWxsIFRyYW5zYWN0aW9uc1xuICogQHBhcmFtIHtzdHJpbmd9XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zYWN0aW9uR2VuZXNpc0hhc2goZ2VuZXNpc0hhc2g6IHN0cmluZykge1xuICByZXR1cm4gdjhuKClcbiAgICAuc3RyaW5nKClcbiAgICAudGVzdChnZW5lc2lzSGFzaCk7XG59XG5cbi8qKlxuICogVGVzdCBmb3IgYSB2YWxpZCBncm91cFxuICogQGNhdGVnb3J5IEFsbCBUcmFuc2FjdGlvbnNcbiAqIEBwYXJhbSB7c3RyaW5nfVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2FjdGlvbkdyb3VwKGdlbmVzaXNIYXNoOiBzdHJpbmcpIHtcbiAgcmV0dXJuIHY4bigpXG4gICAgLnN0cmluZygpXG4gICAgLnRlc3QoZ2VuZXNpc0hhc2gpO1xufVxuXG4vKipcbiAqIFRlc3QgZm9yIGEgdmFsaWQgdHJhbnNhY3Rpb24gdHlwZVxuICogQGNhdGVnb3J5IEFsbCBUcmFuc2FjdGlvbnNcbiAqIEBwYXJhbSB7c3RyaW5nfVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2FjdGlvblR5cGUodHlwZTogc3RyaW5nKSB7XG4gIHJldHVybiB2OG4oKVxuICAgIC5zdHJpbmcoKVxuICAgIC50ZXN0KHR5cGUpO1xufVxuXG4vKipcbiAqIFRlc3QgZm9yIGEgdmFsaWQgdHJhbnNhY3Rpb24gcmVjZWl2ZXIgYWNjb3VudFxuICogQGNhdGVnb3J5IFBheW1lbnQgVHJhbnNhY3Rpb25zXG4gKiBAcGFyYW0ge3N0cmluZ31cbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNhY3Rpb25SZWNlaXZlcihyZWNlaXZlckFkZHI6IHN0cmluZykge1xuICByZXR1cm4gYWxnb0FkZHJlc3MudGVzdChyZWNlaXZlckFkZHIpO1xufVxuXG4vKipcbiAqIFRlc3QgZm9yIGEgdmFsaWQgYWxnbyBhbW91bnQgdG8gYmUgc2VudFxuICogQGNhdGVnb3J5IFBheW1lbnQgVHJhbnNhY3Rpb25zXG4gKiBAcGFyYW0ge251bWJlcn1cbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNhY3Rpb25BbW91bnQodHhuQW1vdW50OiBudW1iZXIpIHtcbiAgcmV0dXJuIHY4bigpXG4gICAgLm51bWJlcigpXG4gICAgLnBvc2l0aXZlKClcbiAgICAubGVzc1RoYW5PckVxdWFsKE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKVxuICAgIC50ZXN0KHR4bkFtb3VudCk7XG59XG5cbi8qKlxuICogVGVzdCBmb3IgYSB2YWxpZCBhbGdvIGFtb3VudCB0byBiZSBzZW50XG4gKiBAY2F0ZWdvcnkgUGF5bWVudCBUcmFuc2FjdGlvbnNcbiAqIEBwYXJhbSB7bnVtYmVyfVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9zZVJlbWFpbmRlclRvKGFkZHJlc3M6IG51bWJlcikge1xuICByZXR1cm4gYWxnb0FkZHJlc3MudGVzdChhZGRyZXNzKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICB0cmFuc2FjdGlvblNlbmRlcixcbiAgdHJhbnNhY3Rpb25GZWUsXG4gIGZpcnN0VmFsaWRSb3VuZCxcbiAgbGFzdFZhbGlkUm91bmQsXG4gIHRyYW5zYWN0aW9uTm90ZSxcbiAgdHJhbnNhY3Rpb25HZW5lc2lzSWQsXG4gIHRyYW5zYWN0aW9uR2VuZXNpc0hhc2gsXG4gIHRyYW5zYWN0aW9uR3JvdXAsXG4gIHRyYW5zYWN0aW9uVHlwZSxcbiAgdHJhbnNhY3Rpb25SZWNlaXZlcixcbiAgdHJhbnNhY3Rpb25BbW91bnQsXG4gIGNsb3NlUmVtYWluZGVyVG9cbn07XG4iXX0=